<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src = "https://unpkg.com/pdf-lib@1.3.0"></script>
    <script src="https://unpkg.com/downloadjs@1.4.7"></script>
</head>
<body>

    <div class = "container">
        <h1 class=" "text-center"> Header</h1>
        <form id="form">
            <div class="form-group-container">
                <input type="file" accept=".pdf" required id="files" class="form-control"/>
            </div>
            <h1 class="text-primary container" id="info"></h1>
                <div class="form-group container">
                    <button class="btn btn-block btn-danger">Download</button>
                </div>
        </form>
    </div>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.min.js"></script>
<script>
    const { PDFDocument } = PDFLib;

    let form = document.getElementById("form");

    form.addEventListener("submit", (e) => {
        e.preventDefault();

        for (var option of document.getElementById("pages").options) {
            if (option.selected) {
                selectedPages.push(option.value);
            }
        }

        console.log(selectedPages);

        removepages(typedarray, numberOfPages, selectedPages);

        inputElement.value = ""
        document.getElementById('pages').innerHTML = ""
        document.getElementById('result').style.display = "none"
        document.getElementById('info').innerHTML = ''
    });

    let selectedPages = [];
    let numberOfPages;
    let inputElement = document.getElementById("files");
    let pageSelectElement = document.getElementById("pages");
    let typedarray;

    inputElement.onchange = function (event) {
        var file = event.target.files[0];

        var fileReader = new FileReader();

        fileReader.onload= function (){
            typedarray = new Uint8Array(this.result);

            const loadingTask = pdfjsLib.getDocument(typedarray);

            loadingTask.promise.then(async (pdf) => {
                document.getElementById("info").innerHTML =
                    "The number of Pages inside pdf document is " + pdf.numPages;
                let result = document.getElementById("result");

                numberOfPages = pdf.numPages;

                let pages = [];

                for (let i =0; i< pdf.numPages; i++) {
                    pages.push(i);
                }

                console.log(pages);

                let html = '
                <label for="select pages">Label</label>
            })
        }
    }
</script>
</html>